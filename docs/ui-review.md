# UI Components Review (src/components/ui)

This document summarizes a quick review of each component in `src/components/ui` with suggestions and potential issues. Export to PDF if needed.

- accordion.tsx
  - Use Radix; ensure triggers have `aria-controls` and `aria-expanded` (Radix handles). No change needed.
- alert-dialog.tsx
  - Verify focus lock and Esc close are enabled; destructive variant styled consistently. No change.
- alert.tsx
  - Provide `role` and `aria-live` where shown for async messages. No change here.
- aspect-ratio.tsx
  - Ensure sensible default ratio. No change.
- avatar.tsx
  - Keep fallback initials; graceful error on broken src. No change.
- badge.tsx
  - Good; keep variants minimal. No change.
- breadcrumb.tsx
  - Wrap in `<nav aria-label="Breadcrumb"><ol>â€¦</ol></nav>` in usage. No change.
- button.tsx
  - Solid cva variants. Suggest mirroring `disabled` to `aria-disabled` at call sites.
- calendar.tsx
  - Ensure keyboard navigation in usage. No change.
- card.tsx
  - Borders match `border` token; avoid over-shadows. No change.
- carousel.tsx
  - Add `aria-roledescription="carousel"` in usage. No change.
- chart.tsx
  - Great theme-aware helpers. Consider adding `ReferenceArea` helper for TOU shading later.
- checkbox.tsx
  - Ensure label click targets; already typical. No change.
- collapsible.tsx
  - Confirm `aria-expanded` on trigger; Radix covers. No change.
- command.tsx
  - Ensure `aria-activedescendant` in usage; fine.
- context-menu.tsx
  - Close-on-select + focus return; Radix handles. No change.
- dialog.tsx
  - Provide `aria-labelledby`/`aria-describedby` when used. No change here.
- drawer.tsx
  - `shouldScaleBackground` prop exposed; default true. No change.
- dropdown-menu.tsx
  - Keyboard traversal correct. No change.
- form.tsx
  - Keep error text `role="alert"` in usage. No change.
- hover-card.tsx
  - Add open delay in usage to prevent flicker. No change.
- input-otp.tsx
  - Provide screen-reader instructions in usage. No change.
- input.tsx
  - Ensure labels tie via `htmlFor`. No change.
- label.tsx
  - Typing OK. No change.
- menubar.tsx
  - Keyboard navigation; Radix covers. No change.
- navigation-menu.tsx
  - Works; no change.
- pagination.tsx
  - Announce current page. No change.
- popover.tsx
  - Focus return to trigger; Radix covers. No change.
- progress.tsx
  - Provide `aria-*` in usage. No change.
- radio-group.tsx
  - Arrow key navigation; Radix covers. No change.
- resizable.tsx
  - Add handle descriptions in usage if needed. No change.
- scroll-area.tsx
  - Show visible focus. No change.
- select.tsx
  - Announce selection; Radix covers. No change.
- separator.tsx
  - `role="separator"` in usage when semantic. No change.
- sheet.tsx
  - Close on overlay click/Esc; Radix covers. No change.
- sidebar.tsx
  - Landmark labels in usage. No change.
- skeleton.tsx
  - Use `aria-busy` on parent while loading. No change.
- slider.tsx
  - Keyboard increments; Radix covers. No change.
- switch.tsx
  - Good focus ring; pair with `<label>` for larger hit target.
- table.tsx
  - Use `scope="col/row"`. No change.
- tabs.tsx
  - `aria-controls` connections; Radix covers. No change.
- textarea.tsx
  - Label association; no change.
- toast.tsx
  - Removed stray `toast-close` attribute (fixed). Otherwise fine.
- toaster.tsx
  - Ensure one provider at app root. No change.
- toggle-group.tsx
  - `aria-pressed` maintained; fine.
- toggle.tsx
  - Same as above.
- tooltip.tsx
  - Delay to avoid touch conflicts. No change.
- use-toast.ts
  - Fine.

Implemented fixes:
- Replace invalid Tailwind shade `hover:bg-gray-750` with `hover:bg-gray-700/60` in Device cards and Automations scene buttons.
- Removed stray `toast-close` attribute from `toast.tsx`.
- Optimistic `lastSeen` update on toggles for instant online/offline feedback.

